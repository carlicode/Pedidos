version: 1

# Configuración para AWS Amplify
# Frontend en carpeta frontend/
# Backend desplegado separadamente en Elastic Beanstalk

frontend:
  phases:
    preBuild:
      commands:
        - cd frontend
        - npm ci
    build:
      commands:
        - npm run build
  artifacts:
    baseDirectory: frontend/dist
    files:
      - '**/*'
  cache:
    paths:
      - frontend/node_modules/**/*

# Variables de entorno que Amplify debe inyectar en el build
# Estas deben configurarse en la consola de Amplify también
# VITE_API_URL: URL del backend en Elastic Beanstalk
# Ejemplo: https://pedidos-backend-prod.us-east-1.elasticbeanstalk.com
